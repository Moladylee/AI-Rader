name: 'Sync Upstream Template'
on:
  schedule:
    # æ¯å‘¨ä¸€å‡Œæ™¨3ç‚¹ï¼ˆUTCæ—¶é—´ï¼‰è‡ªåŠ¨æ£€æŸ¥ï¼ŒåŒ—äº¬æ—¶é—´ä¸Šåˆ11ç‚¹
    - cron: '0 12 * * *'
  workflow_dispatch: # å…è®¸æ‰‹åŠ¨è§¦å‘

# è®¾ç½®å¿…è¦çš„å†™æƒé™
permissions:
  contents: write
  pull-requests: write

jobs:
  sync:
    runs-on: ubuntu-latest
    steps:
      - name: Sync from TrendRadar template
        uses: AndreasAugustin/actions-template-sync@v0.8.0
        with:
          # ä¸Šæ¸¸ä»“åº“åœ°å€ï¼ˆsansan0/TrendRadarï¼‰
          source_repo: sansan0/TrendRadar
          # ä¸Šæ¸¸åˆ†æ”¯ï¼ˆæ ¹æ®ä¸Šæ¸¸ä»“åº“çš„å®é™…ä¸»åˆ†æ”¯åç§°è°ƒæ•´ï¼Œé€šå¸¸ä¸ºmainæˆ–masterï¼‰
          upstream_branch: master
          # æ‚¨ä»“åº“çš„ç›®æ ‡åˆ†æ”¯ï¼ˆæ ¹æ®æ‚¨çš„å®é™…ä¸»åˆ†æ”¯åç§°è°ƒæ•´ï¼‰
          target_branch: master
          # ä½¿ç”¨PATä»¤ç‰Œä»¥è·å¾—è¶³å¤Ÿæƒé™
          github_token: ${{ secrets.PAT_TOKEN }}

          # é…ç½®Pull Request
          pr_title: 'ğŸ”„ åŒæ­¥ä¸Šæ¸¸TrendRadaræ¨¡æ¿æ›´æ–°'
          pr_body: |
            æ­¤PRç”±GitHub Actionsè‡ªåŠ¨åˆ›å»ºï¼ŒåŒæ­¥æ¥è‡ªä¸Šæ¸¸ä»“åº“ [sansan0/TrendRadar](https://github.com/sansan0/TrendRadar) çš„æ›´æ–°ã€‚
            
            **è¯·ä»”ç»†æ£€æŸ¥å˜æ›´ï¼Œç¡®ä¿æ‚¨çš„è‡ªå®šä¹‰é…ç½®æœªè¢«è¦†ç›–ã€‚**
          pr_label: 'automated-sync,upstream'

          # ========== æ ¸å¿ƒé…ç½®ï¼šæ’é™¤éœ€è¦ä¿æŠ¤çš„æ–‡ä»¶ ==========
          excluded_files: |
            config.yaml
            frequency_words.txt
            # æ‚¨å¯ä»¥ç»§ç»­æ·»åŠ å…¶ä»–éœ€è¦ä¿æŠ¤çš„æ–‡ä»¶ï¼Œæ¯è¡Œä¸€ä¸ª
            # README.md
            # data/custom_data.json
            
          # å¯é€‰ï¼šé…ç½®åŒæ­¥è¡Œä¸º
          # å¦‚æœä¸ºtrueï¼Œä¼šåœ¨åŒæ­¥å‰å¯¹ç›®æ ‡åˆ†æ”¯è¿›è¡Œç¡¬é‡ç½®ï¼Œæ…ç”¨
          hard_reset: false
          # å¼ºåˆ¶æ¨é€ï¼ˆé€šå¸¸ä¸éœ€è¦ï¼‰
          force_push: false
